<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>LUME - لوحة التحكم</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
<script>
tailwind.config = {
theme: {
extend: {
colors: {
'brand-dark': '#3a3a3a',
'brand-primary': '#c5a880',
'brand-secondary': '#a1887f',
'brand-light': '#f5f5f5',
'brand-accent': '#e0e0e0',
},
fontFamily: {
sans: ['Tajawal', 'sans-serif'],
},
}
}
}
</script>
<style>
body {
font-family: 'Tajawal', sans-serif;
background-color: #f5f5f5;
}
</style>
</head>
<body>
<div id="root"></div>

<!-- React Libraries -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<!-- Babel to transpile JSX -->
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- Your entire React application -->
<script type="text/babel">
const { useState, useEffect, useMemo, useRef } = React;

// --- SOUND DATA ---
const notificationSound = 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjQ1LjEwMAAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABodHRwOi8vd3d3Lm1lbG9keWxvLmNvbS9NTE9DR0ktMTAwNjUtNTg4ODEtNDE1ODMtOTg0NjYAAAAA//tAwEAAAD/8EAAAAIAAAPEAABPAAEAIQADSAAASEEgPFRFTkVNTERPT0NHSS0xMDA2NS01ODg4MS00MTU4My05ODQ2NgAAAABURVNUAAAAFENvbW1lbnQgZnJvbSBNZWxvZHlsby5jb20AAP/7QMECAAAA/4AEAAPAABPAAEAIQADSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//tA0BMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/7lVVAQAA//tA4BMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/qVVVAQAA//tA8BMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/dVVVAQAA//tBABLAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/lVVVAQAA//tBMBLAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf1dVVVAQAA//tBQBLAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/dVVVAQAA//tBkBMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/yVVVAQAA//tBwBMAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/pVVVAQAA//tCABLAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/hVVVAQAA//tCQBLAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/aVVVAQAA//tCUBMAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/fVVVAQAA//tCwBMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/RVVVAQAA//tDANMAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/LVVVAQAA//tDRNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/BVVVAQAA//tDaNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+1VVVAQAA//tDgNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+VVVVAQAA//tDsNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf9tVVVAQAA//tEBNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/VVVVAQAA//tETNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+NVVVAQAA//tEcNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf91VVVAQAA//tE0NMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+lVVVAQAA//tFANMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/FVVVAQAA//tFSNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+VVVVAQAA//tFmNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/VVVVAQAA//tF5NMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+FVVVAQAA//tGNNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/VVVVAQAA//tGTNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+FVVVAQAA//tGnNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+1VVVAQAA//tG9NMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+VVVVAQAA//tHRNMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/dVVVAQAA//tHadMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/FVVVAQAA//tHqdMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+1VVVAQAA//tIBdMAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+NVVVAQAA//tITdMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/VVVVAQAA//tIndMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/lVVVAQAA//tI7dMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+VVVVAQAA//tJSdMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/tVVVAQAA//tJjdMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+VVVVAQAA//tJ3dMAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+NVVVAQAA//tKFdMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+VVVVAQAA//tKVdMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/VVVVAQAA//tKndMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/FVVVAQAA//tK9dMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+lVVVAQAA//tLTdMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/VVVVAQAA//tLldMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf+FVVVAQAA//tL5dMAAAAA//hAEAYEABPAAEAIQADSFL/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/tVVVAQAA//tMFdMAAAAA//hAEAYEABPAAEAIQADSFJ/7E4QAgYAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/dVU1A';

// --- MOCK DATA & CONSTANTS ---
const AVAILABLE_SIZES = ['صغيرة', 'وسط', 'كبيرة'];
const AVAILABLE_PACKAGINGS = ['استخدام شخصي', 'هدية'];
const CANDLE_NAMES = ['شمعة الأحلام', 'همسة الغروب', 'نسمة الصباح', 'ضوء القمر', 'واحة الهدوء', 'شمعة مخصصة'];
const getPriceForSize = (size) => {
switch (size) {
case 'صغيرة': return 10;
case 'وسط': return 15;
case 'كبيرة': return 20;
default: return 15;
}
};
const STATUS_STYLES = {
'جديد': 'bg-blue-100 text-blue-800',
'قيد التجهيز': 'bg-orange-100 text-orange-800',
'تم الشحن': 'bg-green-100 text-green-800',
};
const NEXT_STATUS = { 'جديد': 'قيد التجهيز', 'قيد التجهيز': 'تم الشحن' };
const NEXT_ACTION_TEXT = { 'جديد': 'بدء التجهيز', 'قيد التجهيز': 'تم الشحن' };

// --- ICONS ---
const CloseIcon = (props) => (<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M6 18 18 6M6 6l12 12" /></svg>);
const PlusIcon = (props) => (<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>);
const TrashIcon = (props) => (<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.036-2.134H8.718c-1.126 0-2.036.954-2.036 2.134v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" /></svg>);
const ClipboardListIcon = (props) => (<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 5.25 6h.008a2.25 2.25 0 0 1 2.242 2.135 48.423 48.423 0 0 0 1.123.08m-5.801 0c.065.21.1.433.1.664m0 0a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 8.25v7.5a2.25 2.25 0 0 1-2.25 2.25H5.25a2.25 2.25 0 0 1-2.25-2.25V8.25a2.25 2.25 0 0 1 2.25-2.25Z" /></svg>);
const BellIcon = (props) => (<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" /></svg>);
const CurrencyDollarIcon = (props) => (<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>);
const BoxIcon = (props) => (<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" /></svg>);

// --- COMPONENTS ---
const EmptyState = ({ onOpenAddOrderModal }) => (
<div className="text-center py-20 px-6 bg-white rounded-lg shadow-sm border border-gray-200">
<ClipboardListIcon className="mx-auto h-16 w-16 text-brand-secondary opacity-50" />
<h3 className="mt-4 text-2xl font-semibold text-brand-dark">أهلاً بك في لوحة تحكم LUME</h3>
<p className="mt-2 text-md text-gray-500 max-w-lg mx-auto">طلباتك الجديدة من المتجر ستظهر هنا تلقائياً. تأكد من أن متجرك مفتوح في نافذة أخرى لتستقبل الإشعارات فور وصولها.</p>
<div className="mt-8"><button onClick={onOpenAddOrderModal} type="button" className="inline-flex items-center gap-2 bg-brand-primary text-white font-bold py-3 px-6 rounded-lg hover:bg-brand-secondary transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1"><PlusIcon className="w-5 h-5" />إضافة طلب يدوي</button></div>
</div>
);
const StatCard = ({ icon, title, value, color }) => (
<div className="bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex items-center space-x-4 space-x-reverse">
<div className={`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${color}`}>{icon}</div>
<div><p className="text-sm font-medium text-gray-500">{title}</p><p className="text-2xl font-bold text-brand-dark">{value}</p></div>
</div>
);
const DashboardSummary = ({ orders }) => {
const summary = useMemo(() => ({
totalOrders: orders.length,
newOrders: orders.filter(o => o.status === 'جديد').length,
totalRevenue: orders.reduce((sum, o) => sum + o.total, 0),
}), [orders]);
return (
<section className="container mx-auto px-6 pt-8">
<div className="grid grid-cols-1 md:grid-cols-3 gap-6">
<StatCard icon={<BoxIcon className="w-6 h-6 text-blue-600" />} title="إجمالي الطلبات" value={summary.totalOrders} color="bg-blue-100" />
<StatCard icon={<BellIcon className="w-6 h-6 text-orange-600" />} title="طلبات جديدة" value={summary.newOrders} color="bg-orange-100" />
<StatCard icon={<CurrencyDollarIcon className="w-6 h-6 text-green-600" />} title="إجمالي الأرباح" value={`${summary.totalRevenue.toFixed(2)} د.أ`} color="bg-green-100" />
</div>
</section>
);
};
const Header = () => (
<header className="bg-brand-light/90 backdrop-blur-sm sticky top-0 z-40 shadow-sm border-b border-gray-200">
<div className="container mx-auto px-6 py-4 flex justify-between items-center">
<div className="flex items-center gap-4"><h1 className="text-3xl font-bold text-brand-dark tracking-wider">LUME</h1><span className="hidden sm:block text-xl text-brand-secondary font-medium">لوحة تحكم الطلبات</span></div>
<div className="flex items-center gap-3 bg-green-100 text-green-800 px-3 py-1.5 rounded-full"><div className="relative flex h-3 w-3"><span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span><span className="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span></div><span className="text-sm font-semibold">متصل بالمتجر</span></div>
</div>
</header>
);
const OrderDetailModal = ({ order, onClose, onUpdateStatus }) => {
if (!order) return null;
const handleUpdate = () => { const newStatus = NEXT_STATUS[order.status]; if (newStatus) onUpdateStatus(order.id, newStatus); };
return (<div className="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4" onClick={onClose}><div className="bg-white rounded-lg shadow-2xl max-w-2xl w-full text-right relative transform transition-all max-h-[90vh] flex flex-col" onClick={(e) => e.stopPropagation()}><div className="p-6 border-b border-gray-200"><h2 className="text-2xl font-bold text-brand-dark">تفاصيل الطلب: <span className="font-mono">{order.id}</span></h2><p className="text-sm text-gray-500 mt-1">{new Date(order.date).toLocaleString('ar-EG', { dateStyle: 'full', timeStyle: 'short' })}</p><button onClick={onClose} className="absolute top-4 left-4 text-gray-400 hover:text-gray-600"><CloseIcon className="w-6 h-6" /></button></div><div className="p-6 overflow-y-auto space-y-6"><div className="grid grid-cols-1 sm:grid-cols-3 gap-4"><div className="bg-gray-50 p-4 rounded-lg"><h3 className="text-sm font-medium text-gray-500 mb-1">الحالة</h3><span className={`px-3 py-1 text-sm font-semibold rounded-full ${STATUS_STYLES[order.status]}`}>{order.status}</span></div><div className="bg-gray-50 p-4 rounded-lg"><h3 className="text-sm font-medium text-gray-500 mb-1">عدد المنتجات</h3><p className="text-lg font-bold text-brand-dark">{order.items.reduce((s, i) => s + i.quantity, 0)}</p></div><div className="bg-gray-50 p-4 rounded-lg"><h3 className="text-sm font-medium text-gray-500 mb-1">المجموع الكلي</h3><p className="text-lg font-bold text-brand-dark">{order.total.toFixed(2)} د.أ</p></div></div><div><h3 className="text-xl font-semibold text-brand-dark mb-3">معلومات العميل</h3><div className="bg-gray-50 p-4 rounded-lg grid grid-cols-1 sm:grid-cols-2 gap-4"><div><h4 className="text-sm font-medium text-gray-500">الاسم</h4><p className="text-md font-semibold text-brand-dark">{order.customerName}</p></div><div><h4 className="text-sm font-medium text-gray-500">رقم الهاتف</h4><p className="text-md font-semibold text-brand-dark" dir="ltr">{order.customerPhone || 'لم يحدد'}</p></div></div></div><div><h3 className="text-xl font-semibold text-brand-dark mb-3">المنتجات</h3><div className="space-y-3">{order.items.map(item => (<div key={item.id} className="flex items-start space-x-4 space-x-reverse bg-white p-3 rounded-lg border"><div className="w-16 h-16 rounded-md flex-shrink-0" style={{ backgroundColor: item.color }}></div><div className="flex-grow"><h4 className="font-semibold text-brand-dark">{item.name} <span className="text-sm font-normal text-gray-500">x{item.quantity}</span></h4><p className="text-sm text-gray-500">{item.size} / {item.packaging}</p><p className="text-sm text-gray-500 truncate">{item.scents.join(', ')}</p></div><p className="text-md font-bold text-brand-primary flex-shrink-0">{(item.price * item.quantity).toFixed(2)} د.أ</p></div>))}</div></div></div>{NEXT_ACTION_TEXT[order.status] && <div className="p-6 border-t border-gray-200 bg-gray-50 text-left"><button onClick={handleUpdate} className="bg-brand-primary text-white font-bold py-3 px-8 rounded-lg text-md hover:bg-brand-secondary transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1">{NEXT_ACTION_TEXT[order.status]}</button></div>}</div></div>);
};
const AddOrderModal = ({ isOpen, onClose, onAddOrder }) => {
const [customerName, setCustomerName] = useState('');
const [customerPhone, setCustomerPhone] = useState('');
const [items, setItems] = useState([]);
const [total, setTotal] = useState(0);
useEffect(() => { if (isOpen) { setCustomerName(''); setCustomerPhone(''); setItems([]); } }, [isOpen]);
useEffect(() => { setTotal(items.reduce((s, i) => s + i.price * i.quantity, 0)); }, [items]);
const handleItemChange = (index, field, value) => { const newItems = [...items]; const currentItem = { ...newItems[index], [field]: value }; if (field === 'size') currentItem.price = getPriceForSize(value); newItems[index] = currentItem; setItems(newItems); };
const handleAddItem = () => { setItems([...items, { name: 'شمعة مخصصة', size: 'وسط', scents: ['فانيلا'], color: '#f7d9c4', packaging: 'استخدام شخصي', price: getPriceForSize('وسط'), quantity: 1, }]); };
const handleRemoveItem = (index) => { setItems(items.filter((_, i) => i !== index)); };
const handleSubmit = (e) => { e.preventDefault(); if (!customerName || items.length === 0) return alert('يرجى إدخال اسم العميل ومنتج واحد على الأقل.'); const newOrder = { id: `#${Math.floor(Math.random() * 9000) + 1000}`, date: new Date().toISOString(), customerName, customerPhone, items: items.map((item, i) => ({ ...item, id: `${Date.now()}-${i}` })), total, status: 'جديد', }; onAddOrder(newOrder); };
if (!isOpen) return null;
return (<div className="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4" onClick={onClose}><div className="bg-white rounded-lg shadow-2xl max-w-3xl w-full text-right relative max-h-[90vh] flex flex-col" onClick={(e) => e.stopPropagation()}><div className="p-6 border-b border-gray-200"><h2 className="text-2xl font-bold text-brand-dark">إضافة طلب جديد</h2><button onClick={onClose} className="absolute top-4 left-4 text-gray-400 hover:text-gray-600"><CloseIcon className="w-6 h-6" /></button></div><form onSubmit={handleSubmit} className="flex flex-col flex-grow"><div className="p-6 overflow-y-auto space-y-6"><fieldset className="grid grid-cols-1 md:grid-cols-2 gap-4"><legend className="text-xl font-semibold text-brand-dark mb-3 col-span-full">معلومات العميل</legend><div><label className="block text-sm font-medium text-gray-700 mb-1">اسم العميل</label><input type="text" value={customerName} onChange={(e) => setCustomerName(e.target.value)} className="w-full border-gray-300 rounded-md shadow-sm" required /></div><div><label className="block text-sm font-medium text-gray-700 mb-1">رقم الهاتف (اختياري)</label><input type="tel" value={customerPhone} onChange={(e) => setCustomerPhone(e.target.value)} className="w-full border-gray-300 rounded-md shadow-sm" /></div></fieldset><fieldset><legend className="text-xl font-semibold text-brand-dark mb-3">المنتجات</legend><div className="space-y-4">{items.map((item, index) => (<div key={index} className="bg-gray-50 p-4 rounded-lg border space-y-3"><div className="flex justify-between items-center"><h4 className="font-semibold text-brand-dark">المنتج #{index + 1}</h4><button type="button" onClick={() => handleRemoveItem(index)} className="text-red-500 hover:text-red-700"><TrashIcon className="w-5 h-5" /></button></div><div className="grid grid-cols-2 md:grid-cols-3 gap-3"><div className="col-span-2 md:col-span-1"><label className="text-xs text-gray-600">الاسم</label><select value={item.name} onChange={(e) => handleItemChange(index, 'name', e.target.value)} className="w-full border-gray-300 rounded-md shadow-sm text-sm">{CANDLE_NAMES.map(n => <option key={n} value={n}>{n}</option>)}</select></div><div><label className="text-xs text-gray-600">الحجم</label><select value={item.size} onChange={(e) => handleItemChange(index, 'size', e.target.value)} className="w-full border-gray-300 rounded-md shadow-sm text-sm">{AVAILABLE_SIZES.map(s => <option key={s} value={s}>{s}</option>)}</select></div><div><label className="text-xs text-gray-600">التغليف</label><select value={item.packaging} onChange={(e) => handleItemChange(index, 'packaging', e.target.value)} className="w-full border-gray-300 rounded-md shadow-sm text-sm">{AVAILABLE_PACKAGINGS.map(p => <option key={p} value={p}>{p}</option>)}</select></div><div><label className="text-xs text-gray-600">الكمية</label><input type="number" min="1" value={item.quantity} onChange={(e) => handleItemChange(index, 'quantity', parseInt(e.target.value))} className="w-full border-gray-300 rounded-md shadow-sm text-sm" /></div><div><label className="text-xs text-gray-600">اللون</label><input type="color" value={item.color} onChange={(e) => handleItemChange(index, 'color', e.target.value)} className="w-full h-10 border-gray-300 rounded-md shadow-sm" /></div><div><label className="text-xs text-gray-600">السعر</label><p className="font-bold text-brand-primary mt-2">{(item.price * item.quantity).toFixed(2)} د.أ</p></div></div></div>))}<button type="button" onClick={handleAddItem} className="flex items-center gap-2 text-sm font-medium text-brand-primary hover:text-brand-secondary"><PlusIcon className="w-4 h-4" /><span>إضافة منتج آخر</span></button></div></fieldset></div><div className="p-6 border-t border-gray-200 bg-gray-50 flex justify-between items-center"><div><span className="text-lg font-bold text-brand-dark">المجموع الكلي: </span><span className="text-xl font-bold text-brand-primary">{total.toFixed(2)} د.أ</span></div><button type="submit" className="bg-brand-primary text-white font-bold py-3 px-8 rounded-lg text-md hover:bg-brand-secondary transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1">حفظ الطلب</button></div></form></div></div>);
};
const OrderList = ({ orders, onSelectOrder, onOpenAddOrderModal }) => {
const sortedOrders = [...orders].sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
return (
<section className="container mx-auto px-6 py-8">
<div className="flex justify-between items-center mb-6">
<h2 className="text-3xl font-bold text-brand-dark">الطلبات الواردة</h2>
<button onClick={onOpenAddOrderModal} className="flex items-center gap-2 bg-brand-primary text-white font-bold py-2 px-4 rounded-lg hover:bg-brand-secondary transition-all shadow hover:shadow-md transform hover:-translate-y-0.5"><PlusIcon className="w-5 h-5" /><span>إضافة طلب جديد</span></button>
</div>
{sortedOrders.length === 0 ? (<EmptyState onOpenAddOrderModal={onOpenAddOrderModal} />) : (<div className="bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"><div className="hidden md:grid grid-cols-5 gap-4 items-center p-4 font-bold text-brand-dark border-b bg-gray-50"><div><p>رقم الطلب</p></div><div><p>التاريخ</p></div><div><p>العميل</p></div><div className="text-center"><p>الحالة</p></div><div className="text-left"><p>المجموع</p></div></div><div className="divide-y divide-gray-200">{sortedOrders.map((order) => (<div key={order.id} onClick={() => onSelectOrder(order)} className="grid grid-cols-2 md:grid-cols-5 gap-4 items-center p-4 hover:bg-brand-light/50 transition-colors cursor-pointer"><div className="md:hidden col-span-2 space-y-2"><div className="flex justify-between items-center"><p className="font-bold text-brand-dark">{order.id}</p><p className="text-lg font-bold text-brand-primary">{order.total.toFixed(2)} د.أ</p></div><div className="flex justify-between items-center text-sm"><p className="font-medium text-gray-700">{order.customerName}</p><span className={`px-3 py-1 text-xs font-semibold rounded-full ${STATUS_STYLES[order.status]}`}>{order.status}</span></div></div><div className="hidden md:block"><p className="font-bold text-brand-dark">{order.id}</p></div><div className="hidden md:block"><p className="font-medium text-gray-700">{new Date(order.date).toLocaleDateString('ar-EG', { year: 'numeric', month: 'short', day: 'numeric' })}</p></div><div className="hidden md:block"><p className="font-medium text-gray-800">{order.customerName}</p></div><div className="hidden md:block text-center"><span className={`px-3 py-1 text-sm font-semibold rounded-full ${STATUS_STYLES[order.status]}`}>{order.status}</span></div><div className="hidden md:block text-left"><p className="text-lg font-bold text-brand-primary">{order.total.toFixed(2)} د.أ</p></div></div>))}</div></div>)}
</section>
);
};

// --- FINAL APP COMPONENT ---
function App() {
const [orders, setOrders] = useState(() => { try { const d = localStorage.getItem('LUME_ORDERS'); return d ? JSON.parse(d) : []; } catch (e) { console.error(e); return []; } });
const [selectedOrder, setSelectedOrder] = useState(null);
const [isAddOrderModalOpen, setAddOrderModalOpen] = useState(false);
const audioRef = useRef(null);
const prevOrderCount = useRef(orders.length);
useEffect(() => { audioRef.current = new Audio(notificationSound); }, []);
useEffect(() => { try { localStorage.setItem('LUME_ORDERS', JSON.stringify(orders)); prevOrderCount.current = orders.length; } catch (e) { console.error(e); } }, [orders]);
useEffect(() => {
const handleStorageChange = (event) => {
if (event.key === 'LUME_ORDERS') {
try {
const newOrders = event.newValue ? JSON.parse(event.newValue) : [];
if (newOrders.length > prevOrderCount.current) { audioRef.current?.play().catch(console.error); }
setOrders(newOrders);
} catch (e) { console.error(e); }
}
};
window.addEventListener('storage', handleStorageChange);
return () => window.removeEventListener('storage', handleStorageChange);
}, []);
const handleAddOrder = (newOrder) => { setOrders(p => [newOrder, ...p]); setAddOrderModalOpen(false); };
const handleUpdateOrderStatus = (orderId, newStatus) => { setOrders(p => p.map(o => o.id === orderId ? { ...o, status: newStatus } : o)); setSelectedOrder(p => p && p.id === orderId ? { ...p, status: newStatus } : p); };
return (
<div className="bg-brand-light min-h-screen font-sans text-gray-800">
<Header />
<main>
<DashboardSummary orders={orders} />
<OrderList orders={orders} onSelectOrder={setSelectedOrder} onOpenAddOrderModal={() => setAddOrderModalOpen(true)} />
</main>
<OrderDetailModal order={selectedOrder} onClose={() => setSelectedOrder(null)} onUpdateStatus={handleUpdateOrderStatus} />
<AddOrderModal isOpen={isAddOrderModalOpen} onClose={() => setAddOrderModalOpen(false)} onAddOrder={handleAddOrder} />
</div>
);
}

// --- Final Rendering Call ---
const rootElement = document.getElementById('root');
const root = ReactDOM.createRoot(rootElement);
root.render(<App />);
</script>
</body>
</html>